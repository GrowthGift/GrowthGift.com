<template name="gameUsers">
  {{#if data._xNotFound }}
  <div class='padding center'>Game either is still loading or does not exist. <a href='{{ data._xHref }}'>Return to My Games.</a></div>
  {{else}}
  <div class='padding max-600'>
    <a class='a-block h2 center margin-b' href='{{ data.gameLink }}'>{{ data.game.title }}</a>

    <div class='margin-b'>
      <h4 class='margin-b center'>Team total: {{ data.challengeTotals.userActions }} {{ data.gameRule.mainAction }}</h4>

      <div class='max-450'>
        <div class='margin-b'>
          <div><span class='btn-link game-users-info-btn font-small'>What do these mean?</span></div>
          {{ #if data.display.info }}
            {{ >gameUsersInfoPledgeImpact mainAction=data.gameRule.mainAction }}
          {{ /if }}
        </div>

        <div class='flexbox game-users-row-header'>
          <h6 class='flex1 game-users-header-buddy pointer'>Buddy Team</h6>
          <h6 class='game-users-col-pledge game-users-header-pledge pointer'>Pledge Completion</h6>
          <h6 class='game-users-col game-users-header-impact pointer'>Team Size</h6>
        </div>
      {{ #each data.users }}
        <div class='flexbox game-users-row {{xDisplay.classes.row}}'>
          <div class='flex1'>{{{ xDisplay.displayHtml }}}</div>
          <div class='game-users-col-pledge font-small'>
            {{ #each xDisplay.pledgeStars }}
              <i class='fa fa-star'></i>
            {{ /each }}
          </div>
          <div class='game-users-col'>{{ buddiedTeamSize }}</div>
        </div>
      {{/each}}
      </div>

    </div>

  </div>
  {{/if}}
</template>

<template name="gameUsersInfoPledgeImpact">
  <div class='font-small'>
    <div>Add to your <b>Team Size</b> by inviting more people to join the game, thus multiplying your impact!</div>
    <div><b>Pledge Completion</b> is how on track you and your buddy are to meeting your pledges. For example, if you each pledged 1 per day (5 total over 5 days) and it was day 2, if you had each done 2 you would be at 100%, or 5 stars.</div>
  </div>
</template>